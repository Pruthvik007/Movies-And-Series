import{j as e,h as t,i as s,f as a}from"./index-DqycOUNv.js";import{r,u as i}from"./react-Bjq67HMM.js";import{S as n}from"./ScrollToTopButton-2oasW1GY.js";import o from"./ErrorPage-CV6m3Cwc.js";import"./react_query-DefDDE5c.js";const l=r.memo((({params:s,setParams:a,mediaType:i,setMediaType:n,className:o=""})=>{const[l,d]=r.useState(""),m=function(e,t){const[s,a]=r.useState(e);return r.useEffect((()=>{const s=setTimeout((()=>a(e)),t);return()=>{clearTimeout(s)}}),[e,t]),s}(l,700);return r.useEffect((()=>{a({...s,query:m})}),[m]),e.jsxs("div",{className:`flex gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${o}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",id:"search-input",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:l,onChange:e=>d(e.target.value)}),e.jsx(t,{mediaType:i,setMediaType:n})]})})),d=()=>{const{ref:t,inView:d}=i(),[m,c]=r.useState("movies"),[u,p]=r.useState({page:1,query:"",include_adult:!1}),{data:x,error:f,fetchNextPage:g,isFetching:j}=s(m,u);return r.useEffect((()=>{d&&u.query.length>0&&g()}),[d]),f?e.jsx(o,{}):e.jsxs("div",{className:"p-3 space-y-3 min-height-screen",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(l,{className:"p-3",params:u,setParams:p,mediaType:m,setMediaType:c}),x&&(0!==x.pages[0].total_results?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 2xl:grid-cols-6 p-3 gap-3 bg-neutral max-w-fit rounded-xl mx-auto",children:e.jsx(a,{mediaList:x.pages.flatMap((e=>e.results)),mediaType:m,isLoading:j})}):e.jsx("p",{className:"text-sm md:text-3xl text-warning mx-auto md:whitespace-nowrap text-center",children:"No Results Found. Try Something Different!"})),e.jsx("div",{id:"observer",ref:t}),e.jsx(n,{})]})};export{d as default};
