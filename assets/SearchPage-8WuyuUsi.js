import{r as n,j as e,R as p}from"./index-mXupzFNE.js";import{M as f}from"./MediaSelector-uCmHTsfk.js";import{c as g,M as h}from"./TmdbQueries-6VKyQBNv.js";import{u as j,S}from"./useInfiniteScroll-L4cMuVZD.js";import{E as b}from"./ErrorPage-jZhECLeV.js";function y(t,r){const[a,c]=n.useState(t);return n.useEffect(()=>{const s=setTimeout(()=>c(t),r||500);return()=>{clearTimeout(s)}},[t,r]),a}const N=({params:t,setParams:r,mediaType:a,setMediaType:c,classNames:s=""})=>{const[o,i]=n.useState(""),u=y(o,700);return n.useEffect(()=>{r({...t,query:u})},[u]),e.jsxs("div",{className:`flex flex-row gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${s}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:o,onChange:l=>i(l.target.value)}),e.jsx(f,{mediaType:a,setMediaType:c})]})},F=()=>{const[t,r]=n.useState("MOVIES"),[a,c]=n.useState({page:1,query:"",include_adult:!1}),{data:s,error:o,fetchNextPage:i,hasNextPage:u,isFetching:l,isFetchingNextPage:m}=g(t,a);return j(()=>{u&&i()}),o?e.jsx(b,{}):e.jsxs("div",{className:"container px-3",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(N,{classNames:"mb-5",params:a,setParams:c,mediaType:t,setMediaType:r}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-neutral",children:s==null?void 0:s.pages.map((x,d)=>e.jsx(p.Fragment,{children:e.jsx(h,{mediaList:x.results,mediaType:t,isLoading:l||m})},d))}),e.jsx(S,{})]})};export{F as default};
