import{r as m,j as s,C as d,w as g,L}from"./index-Ac_zv6rf.js";const N="/movies-and-series/assets/save-_2xIT899.png",_="/movies-and-series/assets/saved-L_FPUTn8.png",M=()=>{const t=localStorage.getItem("watchlist");return t?JSON.parse(t):{movies:[],shows:[]}},f=()=>{const[t,e]=m.useState(M());return{watchList:t,addMediaToWatchList:(l,n)=>{e(o=>{const c={...o,[n]:[...o[n],l]};return localStorage.setItem("watchlist",JSON.stringify(c)),c})},removeMediaFromWatchList:(l,n)=>{e(o=>{const c={...o,[n]:o[n].filter(u=>u.id!==l.id)};return localStorage.setItem("watchlist",JSON.stringify(c)),c})},isMediaPresentInWatchlist:(l,n)=>t[n].find(o=>o.id===l)!==void 0}},w=({mediaDetails:t,mediaType:e,asIcons:a=!1,className:r=""})=>{const{addMediaToWatchList:i,removeMediaFromWatchList:l,isMediaPresentInWatchlist:n}=f(),o=()=>{i(t,e)},c=()=>{l(t,e)},u=h=>{const v=h?c:o,p=h?`bg-red-500 hover:bg-red-700 ${a&&"btn btn-xs md:btn-sm rounded-full"}`:`bg-blue-500 hover:bg-blue-700 ${a&&"btn btn-xs md:btn-sm rounded-full"}`,j=h?_:N,x=h?"Remove From Watchlist":"Add To Watchlist";return s.jsx("button",{onClick:v,className:`${p} text-white font-bold p-2 rounded-lg ${r}`,children:a?s.jsx("img",{src:j,alt:x,className:"w-full h-full"}):s.jsx("span",{children:x})})};return s.jsx("div",{children:u(n(t.id,e))})},b=({count:t=1,className:e})=>s.jsx(s.Fragment,{children:Array.from({length:t}).map((a,r)=>s.jsx("div",{role:"placeholder",className:`bg-slate-400 dark:bg-slate-700 max-w-sm animate-pulse ${e}`},r))}),S=({imagePath:t,alt:e,imageType:a="POSTER"})=>{const[r,i]=m.useState(!0);return s.jsx(s.Fragment,{children:t?s.jsx("img",{src:d.ENV.TMDB_API_IMAGE_URL+g[a].sm+t,alt:e,style:{filter:`${r?"blur(20px)":""}`,transition:"1s filter linear"},onLoad:()=>{i(!1)},loading:"lazy",height:"100%",width:"100%",srcSet:`${d.ENV.TMDB_API_IMAGE_URL+g[a].sm+t} 300w, ${d.ENV.TMDB_API_IMAGE_URL+g[a].md+t} 768w, ${d.ENV.TMDB_API_IMAGE_URL+g[a].lg+t} 1280w`,sizes:"(max-width: 300px) 300px, (max-width: 768px) 768px, 1280px"}):s.jsxs("div",{className:"relative",children:[s.jsx(b,{className:"card-sm md:card-md lg:card-lg"}),s.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:e})]})})},I=({media:t,mediaType:e})=>{const a=t.poster_path?t.poster_path:t.backdrop_path,r=t.title||t.name||t.id.toString();return s.jsxs("div",{className:"relative group",children:[s.jsx(L,{to:`${d.ENV.BASE_URL}/details/${e}/${t.id}`,children:s.jsxs("div",{className:"relative card-sm md:card-md lg:card-lg overflow-y-clip",children:[s.jsx(S,{imagePath:a,alt:r}),t.vote_average!==0&&s.jsx("div",{className:"absolute top-1 right-1 badge badge-xs sm:badge-sm md:badge-md lg:badge-lg badge-neutral rounded-full",children:t.vote_average.toFixed(1)})]})},t.id),s.jsx(w,{mediaDetails:t,mediaType:e,asIcons:!0,className:"block lg:hidden lg:group-hover:block absolute bottom-1 right-1"})]})},E=({mediaList:t,mediaType:e,isLoading:a})=>s.jsxs(s.Fragment,{children:[t==null?void 0:t.map(r=>s.jsx(I,{media:r,mediaType:e},r.id)),a&&s.jsx(b,{count:20,className:"card-sm md:card-md lg:card-lg"})]});export{E as M,S as T,w as W,f as u};
