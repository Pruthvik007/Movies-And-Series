import{r as e,j as s,h as t,i as a,k as r,f as i,S as n}from"./index-36k3dAL3.js";import{S as d}from"./ScrollToTopButton-BCxdoSGM.js";import l from"./ErrorPage-B_3XjbQO.js";const c=e.memo((({params:a,setParams:r,mediaType:i,setMediaType:n,className:d=""})=>{const[l,c]=e.useState(""),m=function(s,t){const[a,r]=e.useState(s);return e.useEffect((()=>{const e=setTimeout((()=>r(s)),t);return()=>{clearTimeout(e)}}),[s,t]),a}(l,700);return e.useEffect((()=>{r({...a,query:m})}),[m]),s.jsxs("div",{className:`flex gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${d}`,children:[s.jsx("input",{type:"text",placeholder:"Search...",id:"search-input",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:l,onChange:e=>c(e.target.value)}),s.jsx(t,{mediaType:i,setMediaType:n})]})})),m=()=>{const{ref:t,inView:m}=a(),[o,u]=e.useState("movies"),[p,x]=e.useState({page:1,query:"",include_adult:!1}),{data:f,error:g,fetchNextPage:h,isFetching:j}=r(o,p);return e.useEffect((()=>{m&&p.query.length>0&&h()}),[m]),g?s.jsx(l,{}):s.jsxs("div",{className:"p-3 space-y-3 min-height-screen",children:[s.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),s.jsx(c,{className:"p-3",params:p,setParams:x,mediaType:o,setMediaType:u}),f&&(0!==f.pages[0].total_results?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 2xl:grid-cols-6 p-3 gap-3 bg-neutral max-w-fit rounded-xl mx-auto",children:[f.pages.map(((e,t)=>s.jsx(i,{mediaList:e.results,mediaType:o},t))),j&&s.jsx(n,{count:20,className:"media-card"})]}):s.jsx("p",{className:"text-sm md:text-3xl text-warning mx-auto md:whitespace-nowrap text-center",children:"No Results Found. Try Something Different!"})),s.jsx("div",{id:"observer",ref:t}),s.jsx(d,{})]})};export{m as default};
