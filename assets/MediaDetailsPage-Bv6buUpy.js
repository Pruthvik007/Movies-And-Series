import{j as e,M as t,C as a,a as s,u as l,b as i,c as d,B as r,W as n,T as o,d as x,I as m,Q as c,e as p,f as h,g}from"./index-DOuMmGck.js";import{r as j}from"./react-Bjq67HMM.js";import{u}from"./useFilters-CuNbJ_G5.js";import"./react_query-DefDDE5c.js";const f=({name:s,id:l,type:i="VIDEO",mediaType:d="movies"})=>{const r=("VIDEO"===i?a.YOUTUBE_VIDEO_URL:"movies"===d?a.VIDSRC_MOVIE_URL:a.VIDSRC_SHOW_URL)+l;return e.jsxs(e.Fragment,{children:[s&&e.jsx(t.Header,{children:e.jsx("h3",{className:"text-sm md:text-xl font-semibold",children:s})}),e.jsxs(t.Body,{children:[l&&e.jsx("iframe",{className:"w-full h-48 sm:h-80",src:r,allowFullScreen:!0}),!l&&e.jsx("p",{className:"text-xl font-bold text-red-500 text-center",children:"Video Not Available"})]})]})},y=({mediaType:t,id:a})=>{const{openModal:i}=j.useContext(s),d=()=>{i(e.jsx(f,{name:"Watch At VidSrc",id:a.toString(),type:"MEDIA",mediaType:t}))};return l("Enter",d),e.jsx("button",{onClick:d,className:"custom-btn-primary",children:"movies"===t?"Watch Movie":"Watch Show"})},N=({color:t})=>e.jsx("svg",{className:`w-4 h-4 ms-1 ${t}`,"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 22 20",children:e.jsx("path",{d:"M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"})}),v=({actualRating:t,totalRating:a,displayText:s})=>e.jsxs("div",{className:"flex items-center flex-wrap gap-1 max-w-fit",children:[e.jsx("div",{className:"flex",children:Array.from({length:a}).map(((a,s)=>e.jsx(N,{color:s<Math.floor(t)?"text-yellow-300":"text-gray-300 dark:text-gray-500"},s)))}),s&&e.jsx("p",{className:"text-sm ms-1",children:s})]}),w=({mediaType:t,mediaId:a})=>{const{isLoading:x,error:m,data:c}=i(t,a),{openModal:p}=j.useContext(s),h=d(t,a),g=()=>{p(e.jsx(f,{...o.getOfficialTrailer(h.data)}))};return l(" ",g),e.jsxs("div",{children:[x&&e.jsx(r,{}),null!==m&&e.jsx("p",{className:"text-3xl text-red-500",children:"Something Went Wrong!"}),c&&e.jsxs("div",{className:"rounded-lg shadow flex flex-col items-center md:flex-row gap-5 text-center md:text-left justify-center p-5",children:[e.jsx(_,{mediaDetails:c}),e.jsxs("div",{className:"flex flex-col gap-3 bg-neutral p-3 rounded-xl w-full md:w-2/3 lg:w-3/4",children:[e.jsx(b,{mediaDetails:c,mediaType:t}),c.tagline&&c.tagline.length>0&&e.jsxs("p",{className:"text-md md:text-lg italic font-semibold text",children:['"',c.tagline,'"']}),e.jsx("div",{className:"text-lg md:text-xl italic font-semibold text",children:e.jsx("p",{children:c.overview})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 justify-center items-center md:justify-start",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:g,className:"custom-btn-primary",children:"Watch Trailer"}),e.jsx(y,{mediaType:t,id:c.id})]}),e.jsx(n,{mediaDetails:c,mediaType:t})]}),e.jsx(T,{mediaType:t,data:c.genres,type:"Genres"}),e.jsx(T,{data:c.production_companies,type:"Production Companies",mediaType:t})]})]})]})},b=({mediaDetails:t,mediaType:a})=>{const s=o.getMediaTitle(t,a),l="movies"===a?t.release_date:t.first_air_date;return e.jsxs("p",{className:"text-3xl text-white",children:[s," (",l.split("-")[0],")"]})},T=({data:t,type:s,mediaType:l})=>{const{updateFilters:i,clearFilters:d}=u(),r=x();return e.jsxs("div",{className:"flex flex-col items-center md:flex-row bg-base-100 rounded-xl py-2 px-4 gap-x-2",children:[e.jsx("p",{className:"text-lg text-neutral-content dark:text-white whitespace-nowrap",children:s}),e.jsx("div",{className:"flex rounded-md shadow-sm gap-2 p-2 overflow-x-auto max-w-full",role:"group",children:t.map((t=>e.jsx("button",{className:"btn btn-sm md:btn-md btn-active btn-info",onClick:()=>(e=>{d();const t="Genres"===s?c.WITH_GENRES:c.WITH_COMPANIES;i(t,e.id.toString(),e.name),r(`${a.ENV.BASE_URL}media/${l}/discover`)})(t),children:t.name},t.id)))})]})},_=({mediaDetails:t})=>e.jsxs("div",{className:"flex flex-col items-center gap-y-5",children:[e.jsx(m,{className:"media-card-lg",imagePath:null==t?void 0:t.poster_path,alt:null==t?void 0:t.id.toString(),loading:"eager"}),void 0!==t.vote_average&&e.jsx(v,{actualRating:Math.ceil(Number((t.vote_average/2).toFixed(1))),totalRating:5,displayText:`${t.vote_average.toFixed(1)} / 10`})]}),I=({mediaType:t,mediaId:a})=>{const{isLoading:s,error:l,data:i}=p(t,a);if(!l)return e.jsxs("div",{className:"bg-neutral rounded-xl p-3",children:[e.jsx("p",{className:"text-3xl font-bold text-white font-sans py-2",children:"Recommendations"}),null!==l&&e.jsx("p",{className:"text-3xl text-red-500",children:"Something Went Wrong!"}),i&&0===i.results.length&&e.jsx("p",{className:"text-3xl text-red-500 text-center",children:"No Recommendations Found!"}),i&&i.results.length>0&&e.jsx("div",{className:"flex gap-3 scrollbar-hidden",children:e.jsx(h,{mediaList:i.results,mediaType:t,isLoading:s})})]})},C=()=>{const t=x();return e.jsx("button",{onClick:()=>t(-1),className:"btn hover:btn-primary btn-neutral btn-sm lg:btn-md text-white font-bold py-2 px-4 rounded fixed right-5 bottom-5",children:"Back"})},S=({mediaType:t,mediaId:a})=>{const{openModal:l}=j.useContext(s),{isLoading:i,error:n,data:o}=d(t,a);return e.jsxs("div",{className:"bg-neutral rounded-xl p-3 shadow",children:[e.jsx("p",{className:"text-3xl font-bold text-white font-sans py-4",children:"Videos"}),i&&e.jsx(r,{}),null!==n&&e.jsx("p",{className:"text-3xl text-red-500",children:"Something Went Wrong!"}),o&&0===o.results.length&&e.jsx("p",{className:"text-3xl text-red-500 text-center",children:"No Videos Found!"}),o&&e.jsx("div",{className:"flex gap-3 overflow-x-auto",children:o.results.map((t=>e.jsxs("div",{className:"relative cursor-pointer",onClick:()=>(t=>{const a={name:t.name,id:t.key};l(e.jsx(f,{...a}))})(t),children:[e.jsx(m,{alt:t.name,imagePath:t.key,imageType:"YOUTUBE_THUMBNAIL",loading:"lazy",className:"card-horizontal rounded-xl"}),e.jsx("img",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-5 h-5 md:w-8 md:h-8 lg:w-10 lg:h-10",src:"/movies-and-series/assets/play-DEuCVnC0.png",alt:"play"})]},t.key)))})]})},E=()=>{const{id:t,mediaType:a}=g();return e.jsxs("div",{className:"flex flex-col gap-5 p-3",children:[e.jsx(w,{mediaId:t,mediaType:a}),e.jsx(S,{mediaId:t,mediaType:a}),e.jsx(I,{mediaId:t,mediaType:a}),e.jsx(C,{})]})};export{E as default};
