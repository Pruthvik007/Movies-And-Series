import{r as a,j as e,R as f}from"./index-EazMNpFp.js";import{u as g,S as j}from"./ScrollToTopButton-vcn_DNo7.js";import{M as h}from"./MediaSelector-8XA6zJTF.js";import{c as b,M as S}from"./TmdbQueries-53LXov7Y.js";import{E as y}from"./ErrorPage-1Oosi7FL.js";function E(t,s){const[r,c]=a.useState(t);return a.useEffect(()=>{const n=setTimeout(()=>c(t),s||500);return()=>{clearTimeout(n)}},[t,s]),r}const N=({params:t,setParams:s,mediaType:r,setMediaType:c,classNames:n=""})=>{const[o,i]=a.useState(""),u=E(o,700);return a.useEffect(()=>{s({...t,query:u})},[u]),e.jsxs("div",{className:`flex flex-row gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${n}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:o,onChange:l=>i(l.target.value)}),e.jsx(h,{mediaType:r,setMediaType:c})]})},F=()=>{const{ref:t,inView:s}=g(),[r,c]=a.useState("MOVIES"),[n,o]=a.useState({page:1,query:"",include_adult:!1}),{data:i,error:u,fetchNextPage:l,isFetching:d,isFetchingNextPage:m}=b(r,n);return a.useEffect(()=>{s&&l()},[s,l]),u?e.jsx(y,{}):e.jsxs("div",{className:"container px-3",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(N,{classNames:"mb-5",params:n,setParams:o,mediaType:r,setMediaType:c}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-neutral",children:i==null?void 0:i.pages.map((x,p)=>e.jsx(f.Fragment,{children:e.jsx(S,{mediaList:x.results,mediaType:r,isLoading:d||m})},p))}),e.jsx("div",{id:"observer",ref:t}),e.jsx(j,{})]})};export{F as default};
