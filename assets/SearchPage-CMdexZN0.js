import{r as n,j as e,E as p}from"./index-Ce8peCan.js";import{u as f,S as g}from"./ScrollToTopButton-CXcwcuQa.js";import{M as h}from"./MediaSelector-BJlkdYpa.js";import{M as j,S}from"./MediaList-DQLqe6th.js";import{c as b}from"./TmdbQueries-phRyciwJ.js";function y(t,s){const[r,o]=n.useState(t);return n.useEffect(()=>{const a=setTimeout(()=>o(t),s);return()=>{clearTimeout(a)}},[t,s]),r}const N=({params:t,setParams:s,mediaType:r,setMediaType:o,className:a=""})=>{const[i,c]=n.useState(""),u=y(i,700);return n.useEffect(()=>{s({...t,query:u})},[u]),e.jsxs("div",{className:`flex gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${a}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",id:"search-input",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:i,onChange:l=>c(l.target.value)}),e.jsx(h,{mediaType:r,setMediaType:o})]})},V=()=>{const{ref:t,inView:s}=f(),[r,o]=n.useState("movies"),[a,i]=n.useState({page:1,query:"",include_adult:!1}),{data:c,error:u,fetchNextPage:l,isFetching:d}=b(r,a);return n.useEffect(()=>{s&&a.query.length>0&&l()},[s]),u?e.jsx(p,{}):e.jsxs("div",{className:"p-3 space-y-3 min-height-screen",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(N,{className:"p-3",params:a,setParams:i,mediaType:r,setMediaType:o}),c&&(c.pages[0].total_results!==0?e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 2xl:grid-cols-6 p-3 gap-3 bg-neutral max-w-fit rounded-xl mx-auto",children:[c.pages.map((m,x)=>e.jsx(j,{mediaList:m.results,mediaType:r},x)),d&&e.jsx(S,{count:20,className:"card-sm md:card-md lg:card-lg flex-shrink-0"})]}):e.jsx("p",{className:"text-sm md:text-3xl text-warning mx-auto md:whitespace-nowrap text-center",children:"No Results Found. Try Something Different!"})),e.jsx("div",{id:"observer",ref:t}),e.jsx(g,{})]})};export{V as default};
