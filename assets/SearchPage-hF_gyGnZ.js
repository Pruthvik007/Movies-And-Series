import{r as a,j as e,R as f}from"./index-whv_UWvr.js";import{u as g,S as j}from"./ScrollToTopButton-5QlFWgQK.js";import{M as h}from"./MediaSelector-yA8viwKv.js";import{M as b}from"./MediaList-kn3VIQZK.js";import{c as S}from"./TmdbQueries-EuOZo1Kf.js";import{E as y}from"./ErrorPage-M-OoYqdC.js";function N(t,s){const[r,o]=a.useState(t);return a.useEffect(()=>{const n=setTimeout(()=>o(t),s||500);return()=>{clearTimeout(n)}},[t,s]),r}const v=({params:t,setParams:s,mediaType:r,setMediaType:o,classNames:n=""})=>{const[c,i]=a.useState(""),u=N(c,700);return a.useEffect(()=>{s({...t,query:u})},[u]),e.jsxs("div",{className:`flex flex-row gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${n}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:c,onChange:l=>i(l.target.value)}),e.jsx(h,{mediaType:r,setMediaType:o})]})},P=()=>{const{ref:t,inView:s}=g(),[r,o]=a.useState("movies"),[n,c]=a.useState({page:1,query:"",include_adult:!1}),{data:i,error:u,fetchNextPage:l,isFetching:m,isFetchingNextPage:d}=S(r,n);return a.useEffect(()=>{s&&l()},[s,l]),u?e.jsx(y,{}):e.jsxs("div",{className:"container px-3",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(v,{classNames:"mb-5",params:n,setParams:c,mediaType:r,setMediaType:o}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-neutral",children:i==null?void 0:i.pages.map((x,p)=>e.jsx(f.Fragment,{children:e.jsx(b,{mediaList:x.results,mediaType:r,isLoading:m||d})},p))}),e.jsx("div",{id:"observer",ref:t}),e.jsx(j,{})]})};export{P as default};
