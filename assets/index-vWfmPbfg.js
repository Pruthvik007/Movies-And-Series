const __vite__fileDeps=["assets/PageNotFound-D_culY73.js","assets/react-BzPveaeN.js","assets/query-C84XuELW.js","assets/MediaDetailsPage-Caw5o6ze.js","assets/useFilters-D-Gay9YY.js","assets/SearchPage-BnJ0topj.js","assets/ScrollToTopButton-PnQ9tzy-.js","assets/ErrorPage-CLdTP8w_.js","assets/WatchList-DaV9miEs.js","assets/CategoryMediaPage-TC8yNddt.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as e,b as t,c as r,d as a,a as n}from"./react-BzPveaeN.js";import{u as o,a as i,Q as s,b as l}from"./query-C84XuELW.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c={exports:{}},d={},u=e,h=Symbol.for("react.element"),f=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function g(e,t,r){var a,n={},o=null,i=null;for(a in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)m.call(t,a)&&!v.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:h,type:e,key:o,ref:i,props:n,_owner:p.current}}d.Fragment=f,d.jsx=g,d.jsxs=g,c.exports=d;var y,b,w=c.exports,x={},E=t;
/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S.apply(this,arguments)}x.createRoot=E.createRoot,x.hydrateRoot=E.hydrateRoot,(b=y||(y={})).Pop="POP",b.Push="PUSH",b.Replace="REPLACE";const _="popstate";function j(e){return void 0===e&&(e={}),function(e,t,r,a){void 0===a&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,i=n.history,s=y.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(S({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function u(){s=y.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function h(e,t){s=y.Push;let r=D(p.location,e,t);c=d()+1;let a=k(r,c),u=p.createHref(r);try{i.pushState(a,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;n.location.assign(u)}o&&l&&l({action:s,location:p.location,delta:1})}function f(e,t){s=y.Replace;let r=D(p.location,e,t);c=d();let a=k(r,c),n=p.createHref(r);i.replaceState(a,"",n),o&&l&&l({action:s,location:p.location,delta:0})}function m(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"==typeof e?e:M(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let p={get action(){return s},get location(){return e(n,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(_,u),l=e,()=>{n.removeEventListener(_,u),l=null}},createHref:e=>t(n,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>i.go(e)};return p}((function(e,t){let{pathname:r,search:a,hash:n}=e.location;return D("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:M(t)}),0,e)}function R(e,t){if(!1===e||null==e)throw new Error(t)}function L(e,t){if(!e)try{throw new Error(t)}catch(r){}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,r,a){return void 0===r&&(r=null),S({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?T(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function M(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function T(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}var C,P;(P=C||(C={})).data="data",P.deferred="deferred",P.redirect="redirect",P.error="error";const A=new Set(["lazy","caseSensitive","path","id","index","children"]);function N(e,t,r,a){return void 0===r&&(r=[]),void 0===a&&(a={}),e.map(((e,n)=>{let o=[...r,n],i="string"==typeof e.id?e.id:o.join("-");if(R(!0!==e.index||!e.children,"Cannot specify children on an index route"),R(!a[i],'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let r=S({},e,t(e),{id:i});return a[i]=r,r}{let r=S({},e,t(e),{id:i,children:void 0});return a[i]=r,e.children&&(r.children=N(e.children,t,o,a)),r}}))}function U(e,t,r){void 0===r&&(r="/");let a=Z(("string"==typeof t?T(t):t).pathname||"/",r);if(null==a)return null;let n=O(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(n);let o=null;for(let i=0;null==o&&i<n.length;++i)o=Y(n[i],J(a));return o}function O(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(R(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let s=ee([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),O(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:H(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of B(e.path))n(e,t,a);else n(e,t)})),t}function B(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===a.length)return n?[o,""]:[o];let i=B(a.join("/")),s=[];return s.push(...i.map((e=>""===e?o:[o,e].join("/")))),n&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const I=/^:\w+$/,$=3,F=2,V=1,z=10,W=-2,q=e=>"*"===e;function H(e,t){let r=e.split("/"),a=r.length;return r.some(q)&&(a+=W),t&&(a+=F),r.filter((e=>!q(e))).reduce(((e,t)=>e+(I.test(t)?$:""===t?V:z)),a)}function Y(e,t){let{routesMeta:r}=e,a={},n="/",o=[];for(let i=0;i<r.length;++i){let e=r[i],s=i===r.length-1,l="/"===n?t:t.slice(n.length)||"/",c=G({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(a,c.params);let d=e.route;o.push({params:a,pathname:ee([n,c.pathname]),pathnameBase:te(ee([n,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(n=ee([n,c.pathnameBase]))}return o}function G(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);L("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let o=new RegExp(n,t?void 0:"i");return[o,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),s=n.slice(1);return{params:a.reduce(((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=s[r]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[a]=n&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(r){return L(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),e}}(l||"",a),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function K(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function X(e,t,r,a){let n;void 0===a&&(a=!1),"string"==typeof e?n=T(e):(n=S({},e),R(!n.pathname||!n.pathname.includes("?"),K("?","pathname","search",n)),R(!n.pathname||!n.pathname.includes("#"),K("#","pathname","hash",n)),R(!n.search||!n.search.includes("#"),K("#","search","hash",n)));let o,i=""===e||""===n.pathname,s=i?"/":n.pathname;if(null==s)o=r;else if(a){let e=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e.pop();n.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:a="",hash:n=""}="string"==typeof e?T(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:re(a),hash:ae(n)}}(n,o),c=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const ee=e=>e.join("/").replace(/\/\/+/g,"/"),te=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),re=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ae=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class ne{constructor(e,t,r,a){void 0===a&&(a=!1),this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function oe(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const ie=["post","put","patch","delete"],se=new Set(ie),le=["get",...ie],ce=new Set(le),de=new Set([301,302,303,307,308]),ue=new Set([307,308]),he={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},me={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ge="remix-router-transitions";function ye(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,r=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,a=!r;let n;if(R(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;n=e=>({hasErrorBoundary:t(e)})}else n=ve;let o,i={},s=N(e.routes,n,void 0,i),l=e.basename||"/",c=S({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,u=new Set,h=null,f=null,m=null,p=null!=e.hydrationData,v=U(s,e.history.location,l),g=null;if(null==v){let t=Pe(404,{pathname:e.history.location.pathname}),{matches:r,route:a}=Ce(s);v=r,g={[a.id]:t}}let b,w,x=!(v.some((e=>e.route.lazy))||v.some((e=>e.route.loader))&&null==e.hydrationData),E={historyAction:e.history.action,location:e.history.location,matches:v,initialized:x,navigation:he,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},_=y.Pop,j=!1,k=!1,M=new Map,T=null,P=!1,A=!1,O=[],B=[],I=new Map,$=0,F=-1,V=new Map,z=new Set,W=new Map,q=new Map,H=new Set,Y=new Map,G=new Map,J=!1;function K(e,t){void 0===t&&(t={}),E=S({},E,e);let r=[],a=[];c.v7_fetcherPersist&&E.fetchers.forEach(((e,t)=>{"idle"===e.state&&(H.has(t)?a.push(t):r.push(t))})),[...u].forEach((e=>e(E,{deletedFetchers:a,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),c.v7_fetcherPersist&&(r.forEach((e=>E.fetchers.delete(e))),a.forEach((e=>ie(e))))}function Q(t,r,a){var n,i;let l,{flushSync:c}=void 0===a?{}:a,d=null!=E.actionData&&null!=E.navigation.formMethod&&Ie(E.navigation.formMethod)&&"loading"===E.navigation.state&&!0!==(null==(n=t.state)?void 0:n._isRedirect);l=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:d?E.actionData:null;let u=r.loaderData?Me(E.loaderData,r.loaderData,r.matches||[],r.errors):E.loaderData,h=E.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,me))));let f,m=!0===j||null!=E.navigation.formMethod&&Ie(E.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);if(o&&(s=o,o=void 0),P||_===y.Pop||(_===y.Push?e.history.push(t,t.state):_===y.Replace&&e.history.replace(t,t.state)),_===y.Pop){let e=M.get(E.location.pathname);e&&e.has(t.pathname)?f={currentLocation:E.location,nextLocation:t}:M.has(t.pathname)&&(f={currentLocation:t,nextLocation:E.location})}else if(k){let e=M.get(E.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),M.set(E.location.pathname,e)),f={currentLocation:E.location,nextLocation:t}}K(S({},r,{actionData:l,loaderData:u,historyAction:_,location:t,initialized:!0,navigation:he,revalidation:"idle",restoreScrollPosition:ke(t,r.matches||E.matches),preventScrollReset:m,blockers:h}),{viewTransitionOpts:f,flushSync:!0===c}),_=y.Pop,j=!1,k=!1,P=!1,A=!1,O=[],B=[]}async function X(t,r,a){w&&w.abort(),w=null,_=t,P=!0===(a&&a.startUninterruptedRevalidation),function(e,t){if(h&&m){let r=Le(e,t);h[r]=m()}}(E.location,E.matches),j=!0===(a&&a.preventScrollReset),k=!0===(a&&a.enableViewTransition);let c=o||s,d=a&&a.overrideNavigation,u=U(c,r,l),f=!0===(a&&a.flushSync);if(!u){let e=Pe(404,{pathname:r.pathname}),{matches:t,route:a}=Ce(c);return _e(),void Q(r,{matches:t,loaderData:{},errors:{[a.id]:e}},{flushSync:f})}if(E.initialized&&!A&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(E.location,r)&&!(a&&a.submission&&Ie(a.submission.formMethod)))return void Q(r,{matches:u},{flushSync:f});w=new AbortController;let p,v,g=Re(e.history,r,w.signal,a&&a.submission);if(a&&a.pendingError)v={[Te(u).route.id]:a.pendingError};else if(a&&a.submission&&Ie(a.submission.formMethod)){let e=await async function(e,t,r,a,o){void 0===o&&(o={});re();let s,c=function(e,t){let r={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return r}(t,r);K({navigation:c},{flushSync:!0===o.flushSync});let d=ze(a,t);if(d.route.action||d.route.lazy){if(s=await je("action",e,d,a,i,n,l),e.signal.aborted)return{shortCircuited:!0}}else s={type:C.error,error:Pe(405,{method:e.method,pathname:t.pathname,routeId:d.route.id})};if(Be(s)){let e;return e=o&&null!=o.replace?o.replace:s.location===E.location.pathname+E.location.search,await ee(E,s,{submission:r,replace:e}),{shortCircuited:!0}}if(Oe(s)){let e=Te(a,d.route.id);return!0!==(o&&o.replace)&&(_=y.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(Ue(s))throw Pe(400,{type:"defer-action"});return{pendingActionData:{[d.route.id]:s.data}}}(g,r,a.submission,u,{replace:a.replace,flushSync:f});if(e.shortCircuited)return;p=e.pendingActionData,v=e.pendingActionError,d=qe(r,a.submission),f=!1,g=new Request(g.url,{signal:g.signal})}let{shortCircuited:b,loaderData:x,errors:R}=await async function(t,r,a,n,i,c,d,u,h,f){let m=n||qe(r,i),p=i||c||We(m),v=o||s,[g,y]=xe(e.history,E,a,p,r,A,O,B,H,W,z,v,l,h,f);if(_e((e=>!(a&&a.some((t=>t.route.id===e)))||g&&g.some((t=>t.route.id===e)))),F=++$,0===g.length&&0===y.length){let e=ce();return Q(r,S({matches:a,loaderData:{},errors:f||null},h?{actionData:h}:{},e?{fetchers:new Map(E.fetchers)}:{}),{flushSync:u}),{shortCircuited:!0}}if(!P){y.forEach((e=>{let t=E.fetchers.get(e.key),r=He(void 0,t?t.data:void 0);E.fetchers.set(e.key,r)}));let e=h||E.actionData;K(S({navigation:m},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},y.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:u})}y.forEach((e=>{I.has(e.key)&&se(e.key),e.controller&&I.set(e.key,e.controller)}));let b=()=>y.forEach((e=>se(e.key)));w&&w.signal.addEventListener("abort",b);let{results:x,loaderResults:_,fetcherResults:j}=await te(E.matches,a,g,y,t);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",b);y.forEach((e=>I.delete(e.key)));let R=Ae(x);if(R){if(R.idx>=g.length){let e=y[R.idx-g.length].key;z.add(e)}return await ee(E,R.result,{replace:d}),{shortCircuited:!0}}let{loaderData:L,errors:k}=De(E,a,g,_,f,y,j,Y);Y.forEach(((e,t)=>{e.subscribe((r=>{(r||e.done)&&Y.delete(t)}))}));let D=ce(),M=de(F),T=D||M||y.length>0;return S({loaderData:L,errors:k},T?{fetchers:new Map(E.fetchers)}:{})}(g,r,u,d,a&&a.submission,a&&a.fetcherSubmission,a&&a.replace,f,p,v);b||(w=null,Q(r,S({matches:u},p?{actionData:p}:{},{loaderData:x,errors:R})))}async function ee(a,n,o){let{submission:i,fetcherSubmission:s,replace:c}=void 0===o?{}:o;n.revalidate&&(A=!0);let d=D(a.location,n.location,{_isRedirect:!0});if(R(d,"Expected a location on the redirect navigation"),r){let r=!1;if(n.reloadDocument)r=!0;else if(pe.test(n.location)){const a=e.history.createURL(n.location);r=a.origin!==t.location.origin||null==Z(a.pathname,l)}if(r)return void(c?t.location.replace(n.location):t.location.assign(n.location))}w=null;let u=!0===c?y.Replace:y.Push,{formMethod:h,formAction:f,formEncType:m}=a.navigation;!i&&!s&&h&&f&&m&&(i=We(a.navigation));let p=i||s;if(ue.has(n.status)&&p&&Ie(p.formMethod))await X(u,d,{submission:S({},p,{formAction:n.location}),preventScrollReset:j});else{let e=qe(d,i);await X(u,d,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:j})}}async function te(t,r,a,o,s){let c=await Promise.all([...a.map((e=>je("loader",s,e,r,i,n,l))),...o.map((t=>{if(t.matches&&t.match&&t.controller)return je("loader",Re(e.history,t.path,t.controller.signal),t.match,t.matches,i,n,l);return{type:C.error,error:Pe(404,{pathname:t.path})}}))]),d=c.slice(0,a.length),u=c.slice(a.length);return await Promise.all([$e(t,a,d,d.map((()=>s.signal)),!1,E.loaderData),$e(t,o.map((e=>e.match)),u,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:d,fetcherResults:u}}function re(){A=!0,O.push(..._e()),W.forEach(((e,t)=>{I.has(t)&&(B.push(t),se(t))}))}function ae(e,t,r){void 0===r&&(r={}),E.fetchers.set(e,t),K({fetchers:new Map(E.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ne(e,t,r,a){void 0===a&&(a={});let n=Te(E.matches,t);ie(e),K({errors:{[n.route.id]:r},fetchers:new Map(E.fetchers)},{flushSync:!0===(a&&a.flushSync)})}function oe(e){return c.v7_fetcherPersist&&(q.set(e,(q.get(e)||0)+1),H.has(e)&&H.delete(e)),E.fetchers.get(e)||fe}function ie(e){let t=E.fetchers.get(e);!I.has(e)||t&&"loading"===t.state&&V.has(e)||se(e),W.delete(e),V.delete(e),z.delete(e),H.delete(e),E.fetchers.delete(e)}function se(e){let t=I.get(e);R(t,"Expected fetch controller: "+e),t.abort(),I.delete(e)}function le(e){for(let t of e){let e=Ye(oe(t).data);E.fetchers.set(t,e)}}function ce(){let e=[],t=!1;for(let r of z){let a=E.fetchers.get(r);R(a,"Expected fetcher: "+r),"loading"===a.state&&(z.delete(r),e.push(r),t=!0)}return le(e),t}function de(e){let t=[];for(let[r,a]of V)if(a<e){let e=E.fetchers.get(r);R(e,"Expected fetcher: "+r),"loading"===e.state&&(se(r),V.delete(r),t.push(r))}return le(t),t.length>0}function ye(e){E.blockers.delete(e),G.delete(e)}function Ee(e,t){let r=E.blockers.get(e)||me;R("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,"Invalid blocker state transition: "+r.state+" -> "+t.state);let a=new Map(E.blockers);a.set(e,t),K({blockers:a})}function Se(e){let{currentLocation:t,nextLocation:r,historyAction:a}=e;if(0===G.size)return;G.size>1&&L(!1,"A router only supports one blocker at a time");let n=Array.from(G.entries()),[o,i]=n[n.length-1],s=E.blockers.get(o);return s&&"proceeding"===s.state?void 0:i({currentLocation:t,nextLocation:r,historyAction:a})?o:void 0}function _e(e){let t=[];return Y.forEach(((r,a)=>{e&&!e(a)||(r.cancel(),t.push(a),Y.delete(a))})),t}function Le(e,t){if(f){return f(e,t.map((e=>function(e,t){let{route:r,pathname:a,params:n}=e;return{id:r.id,pathname:a,params:n,data:t[r.id],handle:r.handle}}(e,E.loaderData))))||e.key}return e.key}function ke(e,t){if(h){let r=Le(e,t),a=h[r];if("number"==typeof a)return a}return null}return b={get basename(){return l},get state(){return E},get routes(){return s},get window(){return t},initialize:function(){if(d=e.history.listen((t=>{let{action:r,location:a,delta:n}=t;if(J)return void(J=!1);L(0===G.size||null!=n,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Se({currentLocation:E.location,nextLocation:a,historyAction:r});return o&&null!=n?(J=!0,e.history.go(-1*n),void Ee(o,{state:"blocked",location:a,proceed(){Ee(o,{state:"proceeding",proceed:void 0,reset:void 0,location:a}),e.history.go(n)},reset(){let e=new Map(E.blockers);e.set(o,me),K({blockers:e})}})):X(r,a)})),r){!function(e,t){try{let r=e.sessionStorage.getItem(ge);if(r){let e=JSON.parse(r);for(let[r,a]of Object.entries(e||{}))a&&Array.isArray(a)&&t.set(r,new Set(a||[]))}}catch(r){}}(t,M);let e=()=>function(e,t){if(t.size>0){let a={};for(let[e,r]of t)a[e]=[...r];try{e.sessionStorage.setItem(ge,JSON.stringify(a))}catch(r){L(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}
/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(t,M);t.addEventListener("pagehide",e),T=()=>t.removeEventListener("pagehide",e)}return E.initialized||X(y.Pop,E.location),b},subscribe:function(e){return u.add(e),()=>u.delete(e)},enableScrollRestoration:function(e,t,r){if(h=e,m=t,f=r||null,!p&&E.navigation===he){p=!0;let e=ke(E.location,E.matches);null!=e&&K({restoreScrollPosition:e})}return()=>{h=null,m=null,f=null}},navigate:async function t(r,a){if("number"==typeof r)return void e.history.go(r);let n=be(E.location,E.matches,l,c.v7_prependBasename,r,null==a?void 0:a.fromRouteId,null==a?void 0:a.relative),{path:o,submission:i,error:s}=we(c.v7_normalizeFormMethod,!1,n,a),d=E.location,u=D(E.location,o,a&&a.state);u=S({},u,e.history.encodeLocation(u));let h=a&&null!=a.replace?a.replace:void 0,f=y.Push;!0===h?f=y.Replace:!1===h||null!=i&&Ie(i.formMethod)&&i.formAction===E.location.pathname+E.location.search&&(f=y.Replace);let m=a&&"preventScrollReset"in a?!0===a.preventScrollReset:void 0,p=!0===(a&&a.unstable_flushSync),v=Se({currentLocation:d,nextLocation:u,historyAction:f});if(!v)return await X(f,u,{submission:i,pendingError:s,preventScrollReset:m,replace:a&&a.replace,enableViewTransition:a&&a.unstable_viewTransition,flushSync:p});Ee(v,{state:"blocked",location:u,proceed(){Ee(v,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(r,a)},reset(){let e=new Map(E.blockers);e.set(v,me),K({blockers:e})}})},fetch:function(t,r,d,u){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(t)&&se(t);let h=!0===(u&&u.unstable_flushSync),f=o||s,m=be(E.location,E.matches,l,c.v7_prependBasename,d,r,null==u?void 0:u.relative),p=U(f,m,l);if(!p)return void ne(t,r,Pe(404,{pathname:m}),{flushSync:h});let{path:v,submission:g,error:y}=we(c.v7_normalizeFormMethod,!0,m,u);if(y)return void ne(t,r,y,{flushSync:h});let b=ze(p,v);j=!0===(u&&u.preventScrollReset),g&&Ie(g.formMethod)?async function(t,r,a,c,d,u,h){if(re(),W.delete(t),!c.route.action&&!c.route.lazy){let e=Pe(405,{method:h.formMethod,pathname:a,routeId:r});return void ne(t,r,e,{flushSync:u})}let f=E.fetchers.get(t);ae(t,function(e,t){let r={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return r}(h,f),{flushSync:u});let m=new AbortController,p=Re(e.history,a,m.signal,h);I.set(t,m);let v=$,g=await je("action",p,c,d,i,n,l);if(p.signal.aborted)return void(I.get(t)===m&&I.delete(t));if(H.has(t))return void ae(t,Ye(void 0));if(Be(g))return I.delete(t),F>v?void ae(t,Ye(void 0)):(z.add(t),ae(t,He(h)),ee(E,g,{fetcherSubmission:h}));if(Oe(g))return void ne(t,r,g.error);if(Ue(g))throw Pe(400,{type:"defer-action"});let y=E.navigation.location||E.location,b=Re(e.history,y,m.signal),x=o||s,S="idle"!==E.navigation.state?U(x,E.navigation.location,l):E.matches;R(S,"Didn't find any matches after fetcher action");let j=++$;V.set(t,j);let L=He(h,g.data);E.fetchers.set(t,L);let[k,D]=xe(e.history,E,S,h,y,A,O,B,H,W,z,x,l,{[c.route.id]:g.data},void 0);D.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,r=E.fetchers.get(t),a=He(void 0,r?r.data:void 0);E.fetchers.set(t,a),I.has(t)&&se(t),e.controller&&I.set(t,e.controller)})),K({fetchers:new Map(E.fetchers)});let M=()=>D.forEach((e=>se(e.key)));m.signal.addEventListener("abort",M);let{results:T,loaderResults:C,fetcherResults:P}=await te(E.matches,S,k,D,b);if(m.signal.aborted)return;m.signal.removeEventListener("abort",M),V.delete(t),I.delete(t),D.forEach((e=>I.delete(e.key)));let N=Ae(T);if(N){if(N.idx>=k.length){let e=D[N.idx-k.length].key;z.add(e)}return ee(E,N.result)}let{loaderData:q,errors:G}=De(E,E.matches,k,C,void 0,D,P,Y);if(E.fetchers.has(t)){let e=Ye(g.data);E.fetchers.set(t,e)}de(j),"loading"===E.navigation.state&&j>F?(R(_,"Expected pending action"),w&&w.abort(),Q(E.navigation.location,{matches:S,loaderData:q,errors:G,fetchers:new Map(E.fetchers)})):(K({errors:G,loaderData:Me(E.loaderData,q,S,G),fetchers:new Map(E.fetchers)}),A=!1)}(t,r,v,b,p,h,g):(W.set(t,{routeId:r,path:v}),async function(t,r,a,o,s,c,d){let u=E.fetchers.get(t);ae(t,He(d,u?u.data:void 0),{flushSync:c});let h=new AbortController,f=Re(e.history,a,h.signal);I.set(t,h);let m=$,p=await je("loader",f,o,s,i,n,l);Ue(p)&&(p=await Fe(p,f.signal,!0)||p);I.get(t)===h&&I.delete(t);if(f.signal.aborted)return;if(H.has(t))return void ae(t,Ye(void 0));if(Be(p))return F>m?void ae(t,Ye(void 0)):(z.add(t),void(await ee(E,p)));if(Oe(p))return void ne(t,r,p.error);R(!Ue(p),"Unhandled fetcher deferred data"),ae(t,Ye(p.data))}(t,r,v,b,p,h,g))},revalidate:function(){re(),K({revalidation:"loading"}),"submitting"!==E.navigation.state&&("idle"!==E.navigation.state?X(_||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation}):X(E.historyAction,E.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:oe,deleteFetcher:function(e){if(c.v7_fetcherPersist){let t=(q.get(e)||0)-1;t<=0?(q.delete(e),H.add(e)):q.set(e,t)}else ie(e);K({fetchers:new Map(E.fetchers)})},dispose:function(){d&&d(),T&&T(),u.clear(),w&&w.abort(),E.fetchers.forEach(((e,t)=>ie(t))),E.blockers.forEach(((e,t)=>ye(t)))},getBlocker:function(e,t){let r=E.blockers.get(e)||me;return G.get(e)!==t&&G.set(e,t),r},deleteBlocker:ye,_internalFetchControllers:I,_internalActiveDeferreds:Y,_internalSetRoutes:function(e){i={},o=N(e,n,void 0,i)}},b}function be(e,t,r,a,n,o,i){let s,l;if(o){s=[];for(let e of t)if(s.push(e),e.route.id===o){l=e;break}}else s=t,l=t[t.length-1];let c=X(n||".",Q(s).map((e=>e.pathnameBase)),Z(e.pathname,r)||e.pathname,"path"===i);return null==n&&(c.search=e.search,c.hash=e.hash),null!=n&&""!==n&&"."!==n||!l||!l.route.index||Ve(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a&&"/"!==r&&(c.pathname="/"===c.pathname?r:ee([r,c.pathname])),M(c)}function we(e,t,r,a){if(!a||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(a))return{path:r};if(a.formMethod&&(n=a.formMethod,!ce.has(n.toLowerCase())))return{path:r,error:Pe(405,{method:a.formMethod})};var n;let o,i,s=()=>({path:r,error:Pe(400,{type:"invalid-body"})}),l=a.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),d=Ne(r);if(void 0!==a.body){if("text/plain"===a.formEncType){if(!Ie(c))return s();let e="string"==typeof a.body?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce(((e,t)=>{let[r,a]=t;return""+e+r+"="+a+"\n"}),""):String(a.body);return{path:r,submission:{formMethod:c,formAction:d,formEncType:a.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===a.formEncType){if(!Ie(c))return s();try{let e="string"==typeof a.body?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:c,formAction:d,formEncType:a.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return s()}}}if(R("function"==typeof FormData,"FormData is not available in this environment"),a.formData)o=Le(a.formData),i=a.formData;else if(a.body instanceof FormData)o=Le(a.body),i=a.body;else if(a.body instanceof URLSearchParams)o=a.body,i=ke(o);else if(null==a.body)o=new URLSearchParams,i=new FormData;else try{o=new URLSearchParams(a.body),i=ke(o)}catch(f){return s()}let u={formMethod:c,formAction:d,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:i,json:void 0,text:void 0};if(Ie(u.formMethod))return{path:r,submission:u};let h=T(r);return t&&h.search&&Ve(h.search)&&o.append("index",""),h.search="?"+o,{path:M(h),submission:u}}function xe(e,t,r,a,n,o,i,s,l,c,d,u,h,f,m){let p=m?Object.values(m)[0]:f?Object.values(f)[0]:void 0,v=e.createURL(t.location),g=e.createURL(n),y=m?Object.keys(m)[0]:void 0,b=function(e,t){let r=e;if(t){let a=e.findIndex((e=>e.route.id===t));a>=0&&(r=e.slice(0,a))}return r}(r,y),w=b.filter(((e,r)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,r){let a=!t||r.route.id!==t.route.id,n=void 0===e[r.route.id];return a||n}(t.loaderData,t.matches[r],e)||i.some((t=>t===e.route.id)))return!0;let n=t.matches[r],s=e;return Se(e,S({currentUrl:v,currentParams:n.params,nextUrl:g,nextParams:s.params},a,{actionResult:p,defaultShouldRevalidate:o||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||Ee(n,s)}))})),x=[];return c.forEach(((e,n)=>{if(!r.some((t=>t.route.id===e.routeId))||l.has(n))return;let i=U(u,e.path,h);if(!i)return void x.push({key:n,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(n),f=ze(i,e.path),m=!1;m=!d.has(n)&&(!!s.includes(n)||(c&&"idle"!==c.state&&void 0===c.data?o:Se(f,S({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},a,{actionResult:p,defaultShouldRevalidate:o})))),m&&x.push({key:n,routeId:e.routeId,path:e.path,matches:i,match:f,controller:new AbortController})})),[w,x]}function Ee(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Se(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"==typeof r)return r}return t.defaultShouldRevalidate}async function _e(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let n=r[e.id];R(n,"No route found in manifest");let o={};for(let i in a){let e=void 0!==n[i]&&"hasErrorBoundary"!==i;L(!e,'Route "'+n.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+i+'" will be ignored.'),e||A.has(i)||(o[i]=a[i])}Object.assign(n,o),Object.assign(n,S({},t(n),{lazy:void 0}))}async function je(e,t,r,a,n,o,i,s){let l,c,d;void 0===s&&(s={});let u=e=>{let a,n=new Promise(((e,t)=>a=t));return d=()=>a(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:r.params,context:s.requestContext}),n])};try{let a=r.route[e];if(r.route.lazy)if(a){let e,t=await Promise.all([u(a).catch((t=>{e=t})),_e(r.route,o,n)]);if(e)throw e;c=t[0]}else{if(await _e(r.route,o,n),a=r.route[e],!a){if("action"===e){let e=new URL(t.url),a=e.pathname+e.search;throw Pe(405,{method:t.method,pathname:a,routeId:r.route.id})}return{type:C.data,data:void 0}}c=await u(a)}else{if(!a){let e=new URL(t.url);throw Pe(404,{pathname:e.pathname+e.search})}c=await u(a)}R(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(p){l=C.error,c=p}finally{d&&t.signal.removeEventListener("abort",d)}if(null!=(h=c)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,n=c.status;if(de.has(n)){let e=c.headers.get("Location");if(R(e,"Redirects returned/thrown from loaders/actions must have a Location header"),pe.test(e)){if(!s.isStaticRequest){let r=new URL(t.url),a=e.startsWith("//")?new URL(r.protocol+e):new URL(e),n=null!=Z(a.pathname,i);a.origin===r.origin&&n&&(e=a.pathname+a.search+a.hash)}}else e=be(new URL(t.url),a.slice(0,a.indexOf(r)+1),i,!0,e);if(s.isStaticRequest)throw c.headers.set("Location",e),c;return{type:C.redirect,status:n,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:l===C.error?C.error:C.data,response:c}}let o=c.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await c.json():await c.text(),l===C.error?{type:l,error:new ne(n,c.statusText,e),headers:c.headers}:{type:C.data,data:e,statusCode:c.status,headers:c.headers}}var h,f,m;return l===C.error?{type:l,error:c}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(c)?{type:C.deferred,deferredData:c,statusCode:null==(f=c.init)?void 0:f.status,headers:(null==(m=c.init)?void 0:m.headers)&&new Headers(c.init.headers)}:{type:C.data,data:c}}function Re(e,t,r,a){let n=e.createURL(Ne(t)).toString(),o={signal:r};if(a&&Ie(a.formMethod)){let{formMethod:e,formEncType:t}=a;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(a.json)):"text/plain"===t?o.body=a.text:"application/x-www-form-urlencoded"===t&&a.formData?o.body=Le(a.formData):o.body=a.formData}return new Request(n,o)}function Le(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,"string"==typeof a?a:a.name);return t}function ke(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function De(e,t,r,a,n,o,i,s){let{loaderData:l,errors:c}=function(e,t,r,a,n){let o,i={},s=null,l=!1,c={};return r.forEach(((r,d)=>{let u=t[d].route.id;if(R(!Be(r),"Cannot handle redirect results in processLoaderData"),Oe(r)){let t=Te(e,u),n=r.error;a&&(n=Object.values(a)[0],a=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=n),i[u]=void 0,l||(l=!0,o=oe(r.error)?r.error.status:500),r.headers&&(c[u]=r.headers)}else Ue(r)?(n.set(u,r.deferredData),i[u]=r.deferredData.data):i[u]=r.data,null==r.statusCode||200===r.statusCode||l||(o=r.statusCode),r.headers&&(c[u]=r.headers)})),a&&(s=a,i[Object.keys(a)[0]]=void 0),{loaderData:i,errors:s,statusCode:o||200,loaderHeaders:c}}(t,r,a,n,s);for(let d=0;d<o.length;d++){let{key:t,match:r,controller:a}=o[d];R(void 0!==i&&void 0!==i[d],"Did not find corresponding fetcher result");let n=i[d];if(!a||!a.signal.aborted)if(Oe(n)){let a=Te(e.matches,null==r?void 0:r.route.id);c&&c[a.route.id]||(c=S({},c,{[a.route.id]:n.error})),e.fetchers.delete(t)}else if(Be(n))R(!1,"Unhandled fetcher revalidation redirect");else if(Ue(n))R(!1,"Unhandled fetcher deferred data");else{let r=Ye(n.data);e.fetchers.set(t,r)}}return{loaderData:l,errors:c}}function Me(e,t,r,a){let n=S({},t);for(let o of r){let r=o.route.id;if(t.hasOwnProperty(r)?void 0!==t[r]&&(n[r]=t[r]):void 0!==e[r]&&o.route.loader&&(n[r]=e[r]),a&&a.hasOwnProperty(r))break}return n}function Te(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ce(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pe(e,t){let{pathname:r,routeId:a,method:n,type:o}=void 0===t?{}:t,i="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(i="Bad Request",n&&r&&a?s="You made a "+n+' request to "'+r+'" but did not provide a `loader` for route "'+a+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(i="Forbidden",s='Route "'+a+'" does not match URL "'+r+'"'):404===e?(i="Not Found",s='No route matches URL "'+r+'"'):405===e&&(i="Method Not Allowed",n&&r&&a?s="You made a "+n.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+a+'", so there is no way to handle the request.':n&&(s='Invalid request method "'+n.toUpperCase()+'"')),new ne(e||500,i,new Error(s),!0)}function Ae(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Be(r))return{result:r,idx:t}}}function Ne(e){return M(S({},"string"==typeof e?T(e):e,{hash:""}))}function Ue(e){return e.type===C.deferred}function Oe(e){return e.type===C.error}function Be(e){return(e&&e.type)===C.redirect}function Ie(e){return se.has(e.toLowerCase())}async function $e(e,t,r,a,n,o){for(let i=0;i<r.length;i++){let s=r[i],l=t[i];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),d=null!=c&&!Ee(c,l)&&void 0!==(o&&o[l.route.id]);if(Ue(s)&&(n||d)){let e=a[i];R(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Fe(s,e,n).then((e=>{e&&(r[i]=e||r[i])}))}}}async function Fe(e,t,r){if(void 0===r&&(r=!1),!(await e.deferredData.resolveData(t))){if(r)try{return{type:C.data,data:e.deferredData.unwrappedData}}catch(a){return{type:C.error,error:a}}return{type:C.data,data:e.deferredData.data}}}function Ve(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ze(e,t){let r="string"==typeof t?T(t).search:t.search;if(e[e.length-1].route.index&&Ve(r||""))return e[e.length-1];let a=Q(e);return a[a.length-1]}function We(e){let{formMethod:t,formAction:r,formEncType:a,text:n,formData:o,json:i}=e;if(t&&r&&a)return null!=n?{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:n}:null!=o?{formMethod:t,formAction:r,formEncType:a,formData:o,json:void 0,text:void 0}:void 0!==i?{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:i,text:void 0}:void 0}function qe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function He(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ye(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ge.apply(this,arguments)}const Je=e.createContext(null),Ze=e.createContext(null),Ke=e.createContext(null),Qe=e.createContext(null),Xe=e.createContext({outlet:null,matches:[],isDataRoute:!1}),et=e.createContext(null);function tt(){return null!=e.useContext(Qe)}function rt(){return tt()||R(!1),e.useContext(Qe).location}function at(t){e.useContext(Ke).static||e.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=e.useContext(Xe);return t?function(){let{router:t}=function(){let t=e.useContext(Je);return t||R(!1),t}(ft.UseNavigateStable),r=pt(mt.UseNavigateStable),a=e.useRef(!1);return at((()=>{a.current=!0})),e.useCallback((function(e,n){void 0===n&&(n={}),a.current&&("number"==typeof e?t.navigate(e):t.navigate(e,Ge({fromRouteId:r},n)))}),[t,r])}():function(){tt()||R(!1);let t=e.useContext(Je),{basename:r,navigator:a}=e.useContext(Ke),{matches:n}=e.useContext(Xe),{pathname:o}=rt(),i=JSON.stringify(Q(n).map((e=>e.pathnameBase))),s=e.useRef(!1);return at((()=>{s.current=!0})),e.useCallback((function(e,n){if(void 0===n&&(n={}),!s.current)return;if("number"==typeof e)return void a.go(e);let l=X(e,JSON.parse(i),o,"path"===n.relative);null==t&&"/"!==r&&(l.pathname="/"===l.pathname?r:ee([r,l.pathname])),(n.replace?a.replace:a.push)(l,n.state,n)}),[r,a,i,o,t])}()}const ot=e.createContext(null);function it(){let{matches:t}=e.useContext(Xe),r=t[t.length-1];return r?r.params:{}}function st(t,r){let{relative:a}=void 0===r?{}:r,{matches:n}=e.useContext(Xe),{pathname:o}=rt(),i=JSON.stringify(Q(n).map((e=>e.pathnameBase)));return e.useMemo((()=>X(t,JSON.parse(i),o,"path"===a)),[t,i,o,a])}function lt(t,r,a){tt()||R(!1);let{navigator:n}=e.useContext(Ke),{matches:o}=e.useContext(Xe),i=o[o.length-1],s=i?i.params:{};!i||i.pathname;let l,c=i?i.pathnameBase:"/";i&&i.route,l=rt();let d=l.pathname||"/",u=U(t,{pathname:"/"===c?d:d.slice(c.length)||"/"}),h=function(t,r,a){var n,o;void 0===r&&(r=[]);void 0===a&&(a=null);if(null==t){if(null==(o=a)||!o.errors)return null;t=a.matches}let i=t,s=null==(n=a)?void 0:n.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||R(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((t,n,o)=>{let l=n.route.id?null==s?void 0:s[n.route.id]:null,c=null;a&&(c=n.route.errorElement||dt);let d=r.concat(i.slice(0,o+1)),u=()=>{let r;return r=l?c:n.route.Component?e.createElement(n.route.Component,null):n.route.element?n.route.element:t,e.createElement(ht,{match:n,routeContext:{outlet:t,matches:d,isDataRoute:null!=a},children:r})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?e.createElement(ut,{location:a.location,revalidation:a.revalidation,component:c,error:l,children:u(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):u()}),null)}(u&&u.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ee([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ee([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,a);return h}function ct(){let t=function(){var t;let r=e.useContext(et),a=function(){let t=e.useContext(Ze);return t||R(!1),t}(mt.UseRouteError),n=pt(mt.UseRouteError);if(r)return r;return null==(t=a.errors)?void 0:t[n]}(),r=oe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),a?e.createElement("pre",{style:n},a):null,null)}const dt=e.createElement(ct,null);class ut extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return this.state.error?e.createElement(Xe.Provider,{value:this.props.routeContext},e.createElement(et.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ht(t){let{routeContext:r,match:a,children:n}=t,o=e.useContext(Je);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),e.createElement(Xe.Provider,{value:r},n)}var ft=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ft||{}),mt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mt||{});function pt(t){let r=function(){let t=e.useContext(Xe);return t||R(!1),t}(),a=r.matches[r.matches.length-1];return a.route.id||R(!1),a.route.id}function vt(t){return function(t){let r=e.useContext(Xe).outlet;return r?e.createElement(ot.Provider,{value:t},r):r}(t.context)}function gt(t){let{basename:r="/",children:a=null,location:n,navigationType:o=y.Pop,navigator:i,static:s=!1}=t;tt()&&R(!1);let l=r.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:i,static:s})),[l,i,s]);"string"==typeof n&&(n=T(n));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:m="default"}=n,p=e.useMemo((()=>{let e=Z(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:f,key:m},navigationType:o}}),[l,d,u,h,f,m,o]);return null==p?null:e.createElement(Ke.Provider,{value:c},e.createElement(Qe.Provider,{children:a,value:p}))}function yt(t){let r={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(r,{element:e.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(r,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),r}
/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bt.apply(this,arguments)}new Promise((()=>{}));const wt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function xt(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=bt({},t,{errors:Et(t.errors)})),t}function Et(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,o]of t)if(o&&"RouteErrorResponse"===o.__type)r[n]=new ne(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"==typeof e)try{let t=new e(o.message);t.stack="",r[n]=t}catch(a){}}if(null==r[n]){let e=new Error(o.message);e.stack="",r[n]=e}}else r[n]=o;return r}const St=e.createContext({isTransitioning:!1}),_t=e.createContext(new Map),jt=r.startTransition,Rt=a.flushSync;function Lt(e){Rt?Rt(e):e()}class kt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Dt(t){let{fallbackElement:r,router:a,future:n}=t,[o,i]=e.useState(a.state),[s,l]=e.useState(),[c,d]=e.useState({isTransitioning:!1}),[u,h]=e.useState(),[f,m]=e.useState(),[p,v]=e.useState(),g=e.useRef(new Map),{v7_startTransition:y}=n||{},b=e.useCallback((e=>{y?function(e){jt?jt(e):e()}(e):e()}),[y]),w=e.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:n,unstable_viewTransitionOpts:o}=t;r.forEach((e=>g.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)}));let s=null==a.window||"function"!=typeof a.window.document.startViewTransition;if(o&&!s){if(n){Lt((()=>{f&&(u&&u.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=a.window.document.startViewTransition((()=>{Lt((()=>i(e)))}));return t.finished.finally((()=>{Lt((()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})}))})),void Lt((()=>m(t)))}f?(u&&u.resolve(),f.skipTransition(),v({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),d({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else n?Lt((()=>i(e))):b((()=>i(e)))}),[a.window,f,u,g,b]);e.useLayoutEffect((()=>a.subscribe(w)),[a,w]),e.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new kt)}),[c]),e.useEffect((()=>{if(u&&s&&a.window){let e=s,t=u.promise,r=a.window.document.startViewTransition((async()=>{b((()=>i(e))),await t}));r.finished.finally((()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})})),m(r)}}),[b,s,u,a.window]),e.useEffect((()=>{u&&s&&o.location.key===s.location.key&&u.resolve()}),[u,f,o.location,s]),e.useEffect((()=>{!c.isTransitioning&&p&&(l(p.state),d({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),v(void 0))}),[c.isTransitioning,p]);let x=e.useMemo((()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:e=>a.navigate(e),push:(e,t,r)=>a.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>a.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[a]),E=a.basename||"/",S=e.useMemo((()=>({router:a,navigator:x,static:!1,basename:E})),[a,x,E]);return e.createElement(e.Fragment,null,e.createElement(Je.Provider,{value:S},e.createElement(Ze.Provider,{value:o},e.createElement(_t.Provider,{value:g.current},e.createElement(St.Provider,{value:c},e.createElement(gt,{basename:E,location:o.location,navigationType:o.historyAction,navigator:x},o.initialized?e.createElement(Mt,{routes:a.routes,state:o}):r))))),null)}function Mt(e){let{routes:t,state:r}=e;return lt(t,0,r)}const Tt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=e.forwardRef((function(t,r){let a,{onClick:n,relative:o,reloadDocument:i,replace:s,state:l,target:c,to:d,preventScrollReset:u,unstable_viewTransition:h}=t,f=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(t,wt),{basename:m}=e.useContext(Ke),p=!1;if("string"==typeof d&&Ct.test(d)&&(a=d,Tt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=Z(t.pathname,m);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:p=!0}catch(y){}let v=function(t,r){let{relative:a}=void 0===r?{}:r;tt()||R(!1);let{basename:n,navigator:o}=e.useContext(Ke),{hash:i,pathname:s,search:l}=st(t,{relative:a}),c=s;return"/"!==n&&(c="/"===s?n:ee([n,s])),o.createHref({pathname:c,search:l,hash:i})}(d,{relative:o}),g=function(t,r){let{target:a,replace:n,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:l}=void 0===r?{}:r,c=nt(),d=rt(),u=st(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,a)){e.preventDefault();let r=void 0!==n?n:M(d)===M(u);c(t,{replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:l})}}),[d,c,u,n,o,a,t,i,s,l])}(d,{replace:s,state:l,target:c,preventScrollReset:u,relative:o,unstable_viewTransition:h});return e.createElement("a",bt({},f,{href:a||v,onClick:p||i?n:function(e){n&&n(e),e.defaultPrevented||g(e)},ref:r,target:c}))}));var At,Nt,Ut,Ot;(Nt=At||(At={})).UseScrollRestoration="useScrollRestoration",Nt.UseSubmit="useSubmit",Nt.UseSubmitFetcher="useSubmitFetcher",Nt.UseFetcher="useFetcher",Nt.useViewTransitionState="useViewTransitionState",(Ot=Ut||(Ut={})).UseFetcher="useFetcher",Ot.UseFetchers="useFetchers",Ot.UseScrollRestoration="useScrollRestoration";const Bt={},It=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.all(t.map((e=>{if((e=function(e){return"/movies-and-series/"+e}(e))in Bt)return;Bt[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,r&&n.setAttribute("nonce",r),document.head.appendChild(n),t?new Promise(((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return a.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},$t=e.createContext({isVisible:!1,modalContent:null,openModal:e=>{},closeModal:()=>{}}),Ft=({children:t})=>{const[r,a]=e.useState(!1),[n,o]=e.useState(),i=e.useCallback((e=>{o(e),a(!0)}),[a,o]),s=e.useCallback((()=>{a(!1),o(null)}),[a,o]);return w.jsx($t.Provider,{value:{isVisible:r,modalContent:n,openModal:i,closeModal:s},children:t})},Vt=(t,r)=>{e.useEffect((()=>{const e=e=>{e.key===t&&(e.preventDefault(),r())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[r,t])},zt=()=>{const{isVisible:t,modalContent:r,closeModal:a}=e.useContext($t);return Vt("Escape",a),w.jsx(w.Fragment,{children:t&&w.jsx("div",{id:"default-modal",tabIndex:-1,className:"w-screen h-screen bg-opacity-70 bg-base-300 p-5 fixed top-0 flex justify-center items-center overflow-y-auto overflow-x-hidden right-0 left-0 z-50 md:inset-0 max-h-full",children:w.jsx("div",{className:"relative rounded-lg shadow bg-neutral p-2 w-full max-w-2xl max-h-full",children:r})})})};zt.Header=({children:t})=>{const{closeModal:r}=e.useContext($t);return w.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 border-b rounded-t dark:border-gray-600",children:[t,w.jsx("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 rounded-lg ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"default-modal",onClick:r,children:w.jsx("span",{children:"Close"})})]})},zt.Body=({children:e})=>w.jsx("div",{className:"p-2 md:p-3 space-y-4 flex flex-col items-center",children:e}),zt.Footer=({children:t})=>{const{closeModal:r}=e.useContext($t);return w.jsxs("div",{className:"flex items-center p-2 md:p-3 border-t border-gray-200 rounded-b dark:border-gray-600",children:[t,w.jsx("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 rounded-lg ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:r,children:w.jsx("span",{children:"Close"})})]})};const Wt=e.createContext({filters:{},updateFilters:()=>{},clearFilters:()=>{},activeFilterName:"",isFiltersActive:()=>!1}),qt=({children:t})=>{const[r,a]=e.useState({}),[n,o]=e.useState(""),i=e.useCallback(((e,t,r)=>{a((r=>({...r,[e]:t}))),r&&o(r)}),[a,o]),s=e.useCallback((()=>{a((e=>({...e,with_genres:"",with_companies:"",sort_by_vote_count:""}))),o("")}),[a,o]);return w.jsx(Wt.Provider,{value:{filters:r,updateFilters:i,activeFilterName:n,clearFilters:s,isFiltersActive:()=>!!(r.with_genres||r.with_companies||r.sort_by_vote_count)},children:t})},Ht=e.createContext({watchList:{movies:[],shows:[]},addMediaToWatchList:()=>{},removeMediaFromWatchList:()=>{},isMediaPresentInWatchlist:()=>!1}),Yt=({children:t})=>{const[r,a]=e.useState((()=>{const e=localStorage.getItem("watchlist");return e?JSON.parse(e):{movies:[],shows:[]}})()),n=e.useCallback(((e,t)=>{a((r=>{const a={...r,[t]:[...r[t],e]};return localStorage.setItem("watchlist",JSON.stringify(a)),a}))}),[a]),o=e.useCallback(((e,t)=>{a((r=>{const a={...r,[t]:r[t].filter((t=>t.id!==e.id))};return localStorage.setItem("watchlist",JSON.stringify(a)),a}))}),[a]),i=e.useCallback(((e,t)=>void 0!==r[t].find((t=>t.id===e))),[r]);return w.jsx(Ht.Provider,{value:{watchList:r,addMediaToWatchList:n,removeMediaFromWatchList:o,isMediaPresentInWatchlist:i},children:t})},Gt=({children:e})=>w.jsx(w.Fragment,{children:w.jsx(Ft,{children:w.jsx(Yt,{children:w.jsx(qt,{children:e})})})}),Jt=()=>w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Zt=()=>w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Kt={movies:"MOVIES",shows:"SHOWS",people:"PEOPLE",all:"ALL",genres:"GENRES",categories:{discover:"Discover",popular:"Popular",trending:"Trending",now_playing:"Now Playing",top_rated:"Top Rated",upcoming:"Upcoming"},ENV:{TMDB_API_KEY:"35ec7518b8827fcc97bee4abae915097",BASE_URL:"/movies-and-series/",TMDB_API_BASE_URL:"https://api.themoviedb.org/3/",TMDB_API_IMAGE_URL:"https://image.tmdb.org/t/p/"},YOUTUBE_VIDEO_URL:"https://www.youtube.com/embed/",YOUTUBE_THUMBNAIL_URL:"https://img.youtube.com/vi/",VIDSRC_MOVIE_URL:"https://vidsrc.xyz/embed/movie?tmdb=",VIDSRC_SHOW_URL:"https://vidsrc.xyz/embed/tv?tmdb="},Qt={movies:{discover:"discover/movie",trending:"trending/movie/week",now_playing:"movie/now_playing",popular:"movie/popular",top_rated:"movie/top_rated",upcoming:"movie/upcoming"},shows:{discover:"discover/tv",trending:"trending/tv/week",now_playing:"tv/airing_today",upcoming:"tv/on_the_air",popular:"tv/popular",top_rated:"tv/top_rated"}},Xt="genre/movie/list",er="genre/tv/list",tr="movie/",rr="tv/",ar="search/movie",nr="search/tv",or="movie/:id/similar",ir="tv/:id/similar",sr="movie/:id/videos",lr="tv/:id/videos",cr=["sort_by","sort_by_date","sort_by_vote_average","sort_by_vote_count","sort_by_popularity"],dr={SORT_BY:{POPULARITY_DESC:"popularity.desc",POPULARITY_ASC:"popularity.asc",VOTE_AVERAGE_DESC:"vote_average.desc",VOTE_AVERAGE_ASC:"vote_average.asc",VOTE_COUNT_DESC:"vote_count.desc",VOTE_COUNT_ASC:"vote_count.asc",release_date:{movies:{asc:"primary_release_date.asc",desc:"primary_release_date.desc"},shows:{asc:"first_air_date.asc",desc:"first_air_date.desc"}}},PAGE_NUMBER:"page",LANGUAGE:"language",LANGUAGE_VALUES:{ENGLISH:"en"},REGION:"region",YEAR:"year",INCLUDE_ADULT:"include_adult",QUERY:"query",WITH_GENRES:"with_genres",WITH_COMPANIES:"with_companies"},ur={POSTER:{sm:"w92",md:"w185",lg:"w500",original:"original"},BACKDROP:{sm:"w300",md:"w780",lg:"w1280",original:"original"},YOUTUBE_THUMBNAIL:{sm:"hqdefault.jpg",md:"mqdefault.jpg",lg:"maxresdefault.jpg",original:"maxresdefault.jpg"}},hr=e.memo((()=>w.jsxs("label",{htmlFor:"theme controller",className:"swap swap-rotate",children:[w.jsx("span",{className:"sr-only",children:"Toggle Theme"}),w.jsx("input",{id:"theme controller",type:"checkbox",className:"theme-controller",value:"coffee"}),w.jsx("svg",{className:"swap-on fill-current w-6 h-6 md:w-8 md:h-8 lg:w-10 lg:h-10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),w.jsx("svg",{className:"swap-off fill-current w-6 h-6 md:w-8 md:h-8 lg:w-10 lg:h-10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}))),fr=[{name:"Movies",path:`${Kt.ENV.BASE_URL}media/movies/discover`},{name:"TV Shows",path:`${Kt.ENV.BASE_URL}media/shows/discover`},{name:"Search",path:`${Kt.ENV.BASE_URL}search`},{name:"Watchlist",path:`${Kt.ENV.BASE_URL}watchlist`}],mr=()=>{const t=rt(),r=e=>t.pathname===e,[a,n]=e.useState(!1),o=()=>{n(!a)};return w.jsxs("div",{className:"bg-neutral flex justify-between items-center h-20 px-4 text-white",children:[w.jsx(Pt,{className:"btn btn-ghost",id:"desktop-logo",to:Kt.ENV.BASE_URL,children:w.jsx("p",{className:"text-xl text-primary",children:"MediaBox"})}),w.jsx("div",{id:"desktop-nav-items",className:"hidden md:flex md:items-center",children:fr.map((e=>w.jsx(Pt,{to:e.path,children:w.jsx("div",{className:`p-4 hover:bg-primary rounded-xl m-2 cursor-pointer duration-300 hover:text-black ${r(e.path)&&"bg-primary text-black"}`,children:e.name})},e.path)))}),w.jsxs("div",{className:"flex items-center gap-5",children:[w.jsx("div",{className:"p-2 hover:bg-primary rounded-xl m-2 cursor-pointer duration-300 flex items-center",children:w.jsx(hr,{})}),w.jsx("div",{id:"mobile-nav-toggle",onClick:o,className:"block md:hidden",children:a?w.jsx(Jt,{}):w.jsx(Zt,{})})]}),w.jsx("div",{id:"mobile-nav-items",className:a?"fixed md:hidden left-0 top-0 w-[60%] h-full border-r border-r-gray-900 bg-base-300 ease-in-out duration-500 z-50":"ease-in-out w-[60%] duration-500 fixed top-0 bottom-0 left-[-100%]",children:fr.map((e=>w.jsx(Pt,{onClick:o,to:e.path,children:w.jsx("div",{className:`p-4 border-b rounded-xl hover:bg-primary duration-300 hover:text-black cursor-pointer border-gray-600 ${r(e.path)&&"bg-primary text-black"}`,children:e.name})},e.path)))})]})};function pr(){return w.jsx("div",{className:"bg-base-300",id:"App",children:w.jsxs(Gt,{children:[w.jsx(mr,{}),w.jsx(vt,{}),w.jsx(zt,{})]})})}const vr=({size:e="lg"})=>w.jsx("span",{className:`loading loading-spinner loading-${e}`}),gr=()=>w.jsx("div",{className:"w-screen h-screen bg-transparent flex justify-center items-center",children:w.jsx(vr,{size:"lg"})});async function yr(e="",t="GET",r){const a=new URL(Kt.ENV.TMDB_API_BASE_URL+e);a.searchParams.set("api_key",Kt.ENV.TMDB_API_KEY);const n={method:t,headers:{"Content-Type":"application/json"}};try{const e=await fetch(a.toString(),n),t=await e.json();if(!e.ok){const e=t.status_message||"Unknown error occurred";throw new Error(e)}return t}catch(o){throw new Error("Failed to fetch data")}}const br=new class{getCategoryMediaParams(e){let t="";const r={...e};return cr.forEach((e=>{r[e]&&(t&&(t+=","),t+=r[e],delete r[e])})),t&&(r.sort_by=t),this.getQueryParams(r)}getQueryParams(e){return new URLSearchParams(Object.entries(e).filter((e=>null!==e[1]&&void 0!==e[1]&&""!==e[1]))).toString()}getOfficialTrailer(e){const t=null==e?void 0:e.results.sort(((e,t)=>e.name.localeCompare(t.name))).find((e=>e.official&&"YouTube"===e.site&&"Trailer"===e.type&&e.name.toLowerCase().includes("trailer")));return{name:null==t?void 0:t.name,id:null==t?void 0:t.key}}getMediaTitle(e,t){return"movies"===t?e.original_title:e.original_name}};const wr=new class{getMedia(e,t){return yr(t?e+"?"+br.getCategoryMediaParams(t):e)}getMediaDetails(e,t){return yr(`${e}${t}`)}getMediaSearchResults(e,t){return yr(e+"?"+br.getQueryParams(t))}getMediaRecomendations(e,t){return yr(`${e.replace(":id",t.toString())}`)}getGenres(e){return yr(e)}getVideos(e,t){return yr(`${e.replace(":id",t)}`)}},xr=864e5,Er=(e,t,r,a=!0)=>o({queryKey:[`${e}-${t}`,e,t,r],queryFn:({pageParam:a=1})=>wr.getMedia(Qt[e][t],{...r,page:a}),enabled:a,getNextPageParam:e=>e.page+1<=e.total_pages?e.page+1:null,keepPreviousData:!0,staleTime:xr}),Sr=(e,t)=>i([`${e}-details-${t}`,t,e],(()=>wr.getMediaDetails("movies"===e?tr:rr,t))),_r=(e,t)=>i([`${e}-recomendations-${t}`,t,e],(()=>wr.getMediaRecomendations("movies"===e?or:ir,t))),jr=(e,t)=>o({queryKey:[`${e}-search`,e,t],queryFn:({pageParam:r=1})=>wr.getMediaSearchResults("movies"===e?ar:nr,{...t,page:r}),enabled:t.query.length>0,getNextPageParam:e=>e.page+1<=e.total_pages?e.page+1:null,staleTime:xr}),Rr=e=>{const t="movies"===e?Xt:er,{data:r,error:a}=i([`${e}-genres`],(()=>wr.getGenres(t)));return a?[]:(null==r?void 0:r.genres)||[]},Lr=(e,t)=>{const r="movies"===e?sr:lr;return i([`${e}-videos-${t}`],(()=>wr.getVideos(r,t)))},kr=({count:e=1,className:t})=>w.jsx(w.Fragment,{children:Array.from({length:e}).map(((e,r)=>w.jsx("div",{role:"presentation",className:`bg-slate-400 dark:bg-slate-700 animate-pulse ${t}`},r)))}),Dr=()=>e.useContext(Ht),Mr=({mediaDetails:e,mediaType:t,asIcons:r=!1,className:a="",iconsLoading:n="eager"})=>{const{addMediaToWatchList:o,removeMediaFromWatchList:i,isMediaPresentInWatchlist:s}=Dr(),l=r=>{r.preventDefault(),o(e,t)},c=r=>{r.preventDefault(),i(e,t)};return w.jsx(w.Fragment,{children:(e=>{const t=e?c:l,o=e?`bg-red-500 hover:bg-red-700 ${r&&"btn btn-xs md:btn-sm rounded-full"}`:`bg-green-500 hover:bg-green-700 ${r&&"btn btn-xs md:btn-sm rounded-full"}`,i=e?"/movies-and-series/assets/saved-v8U9ROfz.png":"/movies-and-series/assets/save-D_bEhPz3.png",s=e?"Remove From Watchlist":"Add To Watchlist";return w.jsx("button",{onClick:t,className:`${o} text-white font-bold p-2 rounded-lg ${a}`,children:r?w.jsx("img",{src:i,alt:s,className:"w-full h-full",loading:n}):w.jsx("span",{children:s})})})(s(e.id,t))})},Tr=({imagePath:t,alt:r,imageType:a="POSTER",loading:n="eager",className:o=""})=>{const[i,s]=e.useState(!0),l=(e="sm")=>"YOUTUBE_THUMBNAIL"===a?d(e):c(e),c=(e="sm")=>Kt.ENV.TMDB_API_IMAGE_URL+ur[a][e]+t,d=(e="sm")=>Kt.YOUTUBE_THUMBNAIL_URL+t+"/"+ur[a][e];return w.jsx(w.Fragment,{children:t?w.jsx("div",{className:o,children:w.jsx("img",{src:l(),alt:r,style:{filter:""+(i?"blur(20px)":""),transition:"1s filter linear",objectFit:"contain",objectPosition:"center",width:"100%",height:"100%"},onLoad:()=>{s(!1)},loading:n,srcSet:`${l("sm")} 300w, ${l("md")} 768w, ${l("lg")} 1280w`,sizes:"(max-width: 300px) 300px, (max-width: 768px) 768px, 1280px"})}):w.jsxs("div",{className:"relative",children:[w.jsx(kr,{className:o}),w.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:r})]})})};var Cr=new Map,Pr=new WeakMap,Ar=0,Nr=void 0;function Ur(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(Pr.has(r)||(Ar+=1,Pr.set(r,Ar.toString())),Pr.get(r)):"0"):e[t]}`;var r})).toString()}function Or(e,t,r={},a=Nr){if(void 0===window.IntersectionObserver&&void 0!==a){const n=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:n,observer:o,elements:i}=function(e){const t=Ur(e);let r=Cr.get(t);if(!r){const a=new Map;let n;const o=new IntersectionObserver((t=>{t.forEach((t=>{var r;const o=t.isIntersecting&&n.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(r=a.get(t.target))||r.forEach((e=>{e(o,t)}))}))}),e);n=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:o,elements:a},Cr.set(t,r)}return r}(r),s=i.get(e)||[];return i.has(e)||i.set(e,s),s.push(t),o.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(i.delete(e),o.unobserve(e)),0===i.size&&(o.disconnect(),Cr.delete(n))}}function Br({threshold:t,delay:r,trackVisibility:a,rootMargin:n,root:o,triggerOnce:i,skip:s,initialInView:l,fallbackInView:c,onChange:d}={}){var u;const[h,f]=e.useState(null),m=e.useRef(),[p,v]=e.useState({inView:!!l,entry:void 0});m.current=d,e.useEffect((()=>{if(s||!h)return;let e;return e=Or(h,((t,r)=>{v({inView:t,entry:r}),m.current&&m.current(t,r),r.isIntersecting&&i&&e&&(e(),e=void 0)}),{root:o,rootMargin:n,threshold:t,trackVisibility:a,delay:r},c),()=>{e&&e()}}),[Array.isArray(t)?t.toString():t,h,o,n,i,s,a,c,r]);const g=null==(u=p.entry)?void 0:u.target,y=e.useRef();h||!g||i||s||y.current===g||(y.current=g,v({inView:!!l,entry:void 0}));const b=[f,p.inView,p.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const Ir=e.memo((({media:e,mediaType:t})=>{const{ref:r,inView:a}=Br({threshold:.1,triggerOnce:!0}),n=e.poster_path?e.poster_path:e.backdrop_path,o=e.title||e.name||e.id.toString();return w.jsx("div",{ref:r,className:"relative group",children:a?w.jsxs(w.Fragment,{children:[w.jsx(Tr,{className:"media-card",imagePath:n,alt:o}),void 0!==e.vote_average&&0!==e.vote_average&&w.jsx("div",{className:"absolute top-1 right-2 badge badge-xs sm:badge-sm md:badge-md lg:badge-lg badge-neutral rounded-full",children:e.vote_average.toFixed(1)}),w.jsx(Mr,{mediaDetails:e,mediaType:t,asIcons:!0,className:"block lg:hidden lg:group-hover:block absolute bottom-1 right-2"})]}):w.jsx(kr,{className:"media-card"})})})),$r=({mediaList:e,mediaType:t,isLoading:r})=>w.jsxs(w.Fragment,{children:[null==e?void 0:e.map((e=>w.jsx(Pt,{to:`${Kt.ENV.BASE_URL}details/${t}/${e.id}`,title:`View ${br.getMediaTitle(e,t)} ${"movies"===t?"Movie":"Show"} Details`,children:w.jsx(Ir,{media:e,mediaType:t})},e.id))),r&&w.jsx(kr,{count:20,className:"media-card"})]}),Fr=e.memo((({mediaType:e,setMediaType:t,className:r})=>w.jsxs("div",{className:`flex gap-2 ${r}`,children:[w.jsx("button",{className:"btn hover:btn-info btn-sm lg:btn-md "+("movies"===e?"btn-primary":"btn-neutral"),onClick:()=>t("movies"),children:"Movies"}),w.jsx("button",{className:"btn hover:btn-info btn-sm lg:btn-md "+("shows"===e?"btn-primary":"btn-neutral"),onClick:()=>t("shows"),children:"Series"})]}))),Vr=({category:t})=>{const r=nt(),[a,n]=e.useState("movies"),{isLoading:o,data:s}=((e,t)=>i([`${e}-${t}`,t],(()=>wr.getMedia(Qt[e][t])),{staleTime:xr}))(a,t);return w.jsxs("div",{className:"flex flex-col gap-3 p-3 bg-neutral rounded-xl",children:[w.jsxs("div",{className:"flex place-content-between items-center",children:[w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("p",{className:"text-md lg:text-lg font-bold text",children:Kt.categories[t]}),w.jsx(Fr,{mediaType:a,setMediaType:n})]}),w.jsx("button",{onClick:()=>{r(`${Kt.ENV.BASE_URL}media/${a}/${t}`)},className:"btn btn-active btn-primary btn-sm md:btn-sm lg:btn-md",children:"View More"})]}),w.jsx("div",{className:"flex gap-3 scrollbar-hidden",children:w.jsx($r,{mediaList:null==s?void 0:s.results,mediaType:a,isLoading:o})})]})},zr=()=>w.jsx("div",{className:"flex flex-col gap-3 p-3",children:Object.keys(Qt.movies).map((e=>w.jsx(Vr,{category:e},e)))}),Wr=n.lazy((()=>It((()=>import("./PageNotFound-D_culY73.js")),__vite__mapDeps([0,1,2])))),qr=n.lazy((()=>It((()=>import("./MediaDetailsPage-Caw5o6ze.js")),__vite__mapDeps([3,1,4,2])))),Hr=n.lazy((()=>It((()=>import("./SearchPage-BnJ0topj.js")),__vite__mapDeps([5,1,6,7,2])))),Yr=n.lazy((()=>It((()=>import("./WatchList-DaV9miEs.js")),__vite__mapDeps([8,1,2])))),Gr=n.lazy((()=>It((()=>import("./CategoryMediaPage-TC8yNddt.js")),__vite__mapDeps([9,1,4,6,7,2])))),Jr=n.lazy((()=>It((()=>import("./ErrorPage-CLdTP8w_.js")),__vite__mapDeps([7,1,2])))),Zr=[{path:Kt.ENV.BASE_URL,element:w.jsx(pr,{}),errorElement:w.jsx(Jr,{}),children:[{index:!0,element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(zr,{})})},{path:"details/:mediaType/:id",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(qr,{})})},{path:"media/:mediaType/:category",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(Gr,{})})},{path:"search",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(Hr,{})})},{path:"watchlist",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(Yr,{})})}]},{path:"notfound",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(Wr,{})})},{path:"*",element:w.jsx(e.Suspense,{fallback:w.jsx(gr,{}),children:w.jsx(Wr,{})})}],Kr=(Qr=Zr,ye({basename:void 0,future:bt({},void 0,{v7_prependBasename:!0}),history:j({window:void 0}),hydrationData:xt(),routes:Qr,mapRouteProperties:yt,window:void 0}).initialize());var Qr;const Xr=new s({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});x.createRoot(document.getElementById("root")).render(w.jsx(n.StrictMode,{children:w.jsx(l,{client:Xr,children:w.jsx(Dt,{router:Kr})})}));export{gr as B,Kt as C,Wt as F,Tr as I,Pt as L,zt as M,dr as Q,br as T,Mr as W,$t as a,Sr as b,Lr as c,nt as d,_r as e,$r as f,it as g,Fr as h,Br as i,w as j,jr as k,Dr as l,Rr as m,Er as n,Vt as u};
