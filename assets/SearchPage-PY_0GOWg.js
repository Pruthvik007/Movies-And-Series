import{r as a,j as e,R as f}from"./index-Ac_zv6rf.js";import{u as g,S as j}from"./ScrollToTopButton-P6_tY1iS.js";import{M as h}from"./MediaSelector-ng0G0DNN.js";import{M as b}from"./MediaList-aDQ_0sjM.js";import{c as S}from"./TmdbQueries-aoY96XyB.js";import{E as y}from"./ErrorPage-t2p3RB6d.js";function N(t,s){const[r,i]=a.useState(t);return a.useEffect(()=>{const n=setTimeout(()=>i(t),s||500);return()=>{clearTimeout(n)}},[t,s]),r}const v=({params:t,setParams:s,mediaType:r,setMediaType:i,classNames:n=""})=>{const[c,o]=a.useState(""),u=N(c,700);return a.useEffect(()=>{s({...t,query:u})},[u]),e.jsxs("div",{className:`flex gap-3 bg-base-100 p-5 w-full justify-center border-black rounded-lg items-center ${n}`,children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full max-w-xs input-sm md:input-md",value:c,onChange:l=>o(l.target.value)}),e.jsx(h,{mediaType:r,setMediaType:i})]})},P=()=>{const{ref:t,inView:s}=g(),[r,i]=a.useState("movies"),[n,c]=a.useState({page:1,query:"",include_adult:!1}),{data:o,error:u,fetchNextPage:l,isFetching:m,isFetchingNextPage:d}=S(r,n);return a.useEffect(()=>{s&&l()},[s,l]),u?e.jsx(y,{}):e.jsxs("div",{className:"container px-3",children:[e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-center py-3 text-neutral-content",children:"Search For Movies And TV Series"}),e.jsx(v,{classNames:"mb-5",params:n,setParams:c,mediaType:r,setMediaType:i}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-neutral",children:o==null?void 0:o.pages.map((x,p)=>e.jsx(f.Fragment,{children:e.jsx(b,{mediaList:x.results,mediaType:r,isLoading:m||d})},p))}),e.jsx("div",{id:"observer",ref:t}),e.jsx(j,{})]})};export{P as default};
